= "count: #{scouts.size}"
= form_tag heat_add_scout_path(heat_id, 0) do |f|
  %table.hoverable
    %thead
      %tr
        -if mode == "heats"
          %th
        %th Scout
        %th Den
        %th Rank
        %th Den Leader
        %th Action
    %tbody
      %tr
        %td{:colspan => 6}= submit_tag "Add Checked to Heat", :class => "button"
      - scouts.each do |scout|
        %tr
          - if mode == "check_in"
            %td= link_to scout.full_name, scout_path(scout)
          -else
            %td= check_box_tag "scout_ids[]", scout.id
            %td= scout.full_name
          %td= "Den #{scout.den.try(:den_number)}"
          %td= scout.den.try(:rank)
          %td= scout.den.try(:leader_name)
          - case mode
          - when "check_in"
            - if scout.has_current_event?
              %td= link_to "Check Out", check_out_scout_path(scout), :class => "button small red"
            -else
              %td= link_to "Check In", scout_path(scout), :class => "button small green"
        
          - when "heats"
            %td= link_to "Add to Heat", heat_add_scout_path(heat_id, scout), :class => "button green"
      %tr
        %td{:colspan => 6}= submit_tag "Add Checked to Heat", :class => "button"